# Generated by Django 5.0.2 on 2025-09-12 10:09

import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ActionType',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('code', models.CharField(max_length=100, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('is_active', models.BooleanField(default=True)),
            ],
        ),
        migrations.CreateModel(
            name='Image',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('img', models.ImageField(upload_to='img')),
            ],
        ),
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('order', models.FloatField(default=0)),
            ],
            options={
                'ordering': ['order'],
            },
        ),
        migrations.CreateModel(
            name='Action',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('code', models.CharField(max_length=100, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('order', models.FloatField(default=0)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='action_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='action_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.actiontype')),
            ],
            options={
                'ordering': ['type', 'order'],
                'unique_together': {('name', 'type')},
            },
        ),
        migrations.CreateModel(
            name='Case',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('timeout', models.FloatField(blank=True, null=True)),
                ('ui_step_interval', models.FloatField(blank=True, null=True)),
                ('error_handle', models.IntegerField(choices=[(0, '继承上级'), (1, '中止测试'), (2, '继续测试'), (3, '暂停测试'), (4, '忽略（不记录错误）')], default=0)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='case_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='case_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.CreateModel(
            name='CaseResult',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('timeout', models.FloatField(blank=True, null=True)),
                ('ui_step_interval', models.FloatField(blank=True, null=True)),
                ('config', models.JSONField(blank=True, null=True)),
                ('variable_group', models.JSONField(blank=True, null=True)),
                ('data_set', models.JSONField(blank=True, null=True)),
                ('snapshot', models.JSONField(blank=True, null=True)),
                ('parent_case_pk_list', models.TextField(blank=True, null=True)),
                ('case_order', models.IntegerField(blank=True, null=True)),
                ('start_date', models.DateTimeField(blank=True, null=True, verbose_name='开始时间')),
                ('end_date', models.DateTimeField(blank=True, null=True, verbose_name='结束时间')),
                ('execute_count', models.IntegerField(blank=True, null=True)),
                ('pass_count', models.IntegerField(blank=True, null=True)),
                ('fail_count', models.IntegerField(blank=True, null=True)),
                ('error_count', models.IntegerField(blank=True, null=True)),
                ('result_state', models.IntegerField(blank=True, choices=[(0, '忽略'), (1, '成功'), (2, '失败'), (3, '异常'), (4, '中止')], null=True)),
                ('result_message', models.TextField(blank=True)),
                ('result_error', models.TextField(blank=True)),
                ('case', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.case')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
        ),
        migrations.CreateModel(
            name='Config',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('ui_selenium_client', models.IntegerField(choices=[(0, '不启用'), (1, 'Selenium - 服务器本地浏览器'), (2, 'Selenium - 远程浏览器')], default=0)),
                ('ui_remote_ip', models.CharField(blank=True, max_length=100)),
                ('ui_remote_port', models.IntegerField(blank=True, null=True)),
                ('ui_driver_type', models.IntegerField(choices=[(1, 'Chrome'), (2, 'IE'), (3, 'FireFox'), (4, 'Edge')], default=1)),
                ('ui_window_size', models.IntegerField(choices=[(1, '最大化'), (2, '自定义')], default=1)),
                ('ui_window_width', models.IntegerField(blank=True, null=True)),
                ('ui_window_height', models.IntegerField(blank=True, null=True)),
                ('ui_window_position_x', models.IntegerField(blank=True, null=True)),
                ('ui_window_position_y', models.IntegerField(blank=True, null=True)),
                ('ui_driver_ff_profile', models.CharField(blank=True, max_length=100)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='config_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='config_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.AddField(
            model_name='case',
            name='config',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.config'),
        ),
        migrations.CreateModel(
            name='DataSet',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('data', models.JSONField(blank=True, null=True)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='data_set_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='data_set_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.AddField(
            model_name='case',
            name='data_set',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.dataset'),
        ),
        migrations.CreateModel(
            name='ElementGroup',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='element_group_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='element_group_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.AddField(
            model_name='case',
            name='project',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project'),
        ),
        migrations.CreateModel(
            name='Step',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('timeout', models.FloatField(blank=True, null=True)),
                ('ui_step_interval', models.FloatField(blank=True, null=True)),
                ('error_handle', models.IntegerField(choices=[(0, '继承上级'), (1, '中止测试'), (2, '继续测试'), (3, '暂停测试'), (4, '忽略（不记录错误）')], default=0)),
                ('save_as', models.CharField(blank=True, max_length=100)),
                ('ui_by', models.IntegerField(choices=[(0, ''), (1, 'id'), (2, 'xpath'), (3, 'link text'), (4, 'partial link text'), (5, 'name'), (6, 'tag name'), (7, 'class name'), (8, 'css selector'), (9, 'public element'), (10, 'variable')], default=0)),
                ('ui_locator', models.TextField(blank=True)),
                ('ui_index', models.IntegerField(blank=True, null=True)),
                ('ui_base_element', models.CharField(blank=True, max_length=1000)),
                ('ui_data', models.TextField(blank=True)),
                ('ui_special_action', models.IntegerField(choices=[(0, ''), (1, '鼠标 - 左键单击'), (2, '鼠标 - 左键双击'), (3, '鼠标 - 右键单击'), (4, '鼠标 - 左键点按'), (5, '鼠标 - 释放左键点按'), (6, '鼠标 - 移动到偏移点位置'), (7, '鼠标 - 移动到某元素中间'), (8, '鼠标 - 移动到某元素左上角为基准的偏移点位置'), (9, '鼠标 - 拖动某元素到另一元素上'), (10, '鼠标 - 拖动某元素到偏移点位置'), (11, '鼠标 - 滚动到偏移点位置'), (12, '鼠标 - 滚动到某元素底部'), (13, '键盘 - 按住某键'), (14, '键盘 - 释放某键'), (15, '键盘 - 发送按键（组）')], default=0)),
                ('ui_alert_handle', models.IntegerField(choices=[(1, '确定'), (2, '取消')], default=1)),
                ('ui_alert_handle_text', models.TextField(blank=True)),
                ('api_url', models.TextField(blank=True)),
                ('api_method', models.IntegerField(choices=[(1, 'GET'), (2, 'HEAD'), (3, 'POST'), (4, 'PUT'), (5, 'PATCH'), (6, 'DELETE'), (7, 'OPTIONS'), (8, 'TRACE')], default=1)),
                ('api_headers', models.TextField(blank=True)),
                ('api_body', models.TextField(blank=True)),
                ('api_decode', models.CharField(blank=True, max_length=255)),
                ('api_allow_redirects', models.BooleanField(default=True)),
                ('api_max_redirects', models.IntegerField(blank=True, null=True)),
                ('api_response_status', models.CharField(blank=True, max_length=255)),
                ('api_data', models.TextField(blank=True)),
                ('api_save', models.TextField(blank=True)),
                ('other_input', models.TextField(blank=True)),
                ('other_data', models.TextField(blank=True)),
                ('db_type', models.IntegerField(choices=[(1, 'Oracle'), (2, 'MySQL')], default=1)),
                ('db_host', models.CharField(blank=True, max_length=255)),
                ('db_port', models.CharField(blank=True, max_length=255)),
                ('db_name', models.CharField(blank=True, max_length=255)),
                ('db_user', models.CharField(blank=True, max_length=255)),
                ('db_password', models.CharField(blank=True, max_length=255)),
                ('db_lang', models.CharField(blank=True, max_length=255)),
                ('db_sql', models.TextField(blank=True)),
                ('db_data', models.TextField(blank=True)),
                ('action', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.action')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='step_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='step_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('other_sub_case', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='step_sub_case', to='main.case')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.CreateModel(
            name='CaseVsStep',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('order', models.IntegerField(default=0)),
                ('case', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.case')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='case_vs_step_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='case_vs_step_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('step', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.step')),
            ],
            options={
                'ordering': ['-modified_date'],
                'unique_together': {('case', 'step', 'order')},
            },
        ),
        migrations.AddField(
            model_name='case',
            name='step',
            field=models.ManyToManyField(through='main.CaseVsStep', to='main.step'),
        ),
        migrations.CreateModel(
            name='StepResult',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('action', models.CharField(blank=True, max_length=100)),
                ('step_order', models.IntegerField(blank=True, null=True)),
                ('loop_id', models.CharField(blank=True, max_length=100)),
                ('runtime_variables', models.JSONField(blank=True, null=True)),
                ('start_date', models.DateTimeField(blank=True, null=True, verbose_name='开始时间')),
                ('end_date', models.DateTimeField(blank=True, null=True, verbose_name='结束时间')),
                ('result_state', models.IntegerField(blank=True, choices=[(0, '忽略'), (1, '成功'), (2, '失败'), (3, '异常'), (4, '中止')], null=True)),
                ('result_message', models.TextField(blank=True)),
                ('result_error', models.TextField(blank=True)),
                ('snapshot', models.JSONField(blank=True, null=True)),
                ('has_sub_case', models.BooleanField(default=False)),
                ('ui_last_url', models.TextField(blank=True)),
                ('case_result', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.caseresult')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('imgs', models.ManyToManyField(to='main.image')),
                ('step', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.step')),
            ],
            options={
                'ordering': ['pk'],
            },
        ),
        migrations.AddField(
            model_name='caseresult',
            name='step_result',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='main.stepresult'),
        ),
        migrations.CreateModel(
            name='Suite',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('timeout', models.FloatField(default=10)),
                ('ui_step_interval', models.FloatField(default=0)),
                ('ui_get_ss', models.BooleanField(default=True)),
                ('log_level', models.IntegerField(choices=[(1, 'DEV'), (10, 'DEBUG'), (20, 'INFO'), (30, 'WARNING'), (40, 'ERROR'), (50, 'CRITICAL')], default=20)),
                ('thread_count', models.IntegerField(default=1)),
                ('error_handle', models.IntegerField(choices=[(1, '中止测试'), (2, '继续测试'), (3, '暂停测试'), (4, '忽略（不记录错误）')], default=1)),
                ('config', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.config')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('element_group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.elementgroup')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.CreateModel(
            name='SuiteResult',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('snapshot', models.JSONField(blank=True, null=True)),
                ('config', models.JSONField(blank=True, null=True)),
                ('variable_group', models.JSONField(blank=True, null=True)),
                ('element_group', models.JSONField(blank=True, null=True)),
                ('start_date', models.DateTimeField(blank=True, null=True, verbose_name='开始时间')),
                ('end_date', models.DateTimeField(blank=True, null=True, verbose_name='结束时间')),
                ('execute_count', models.IntegerField(blank=True, null=True)),
                ('pass_count', models.IntegerField(blank=True, null=True)),
                ('fail_count', models.IntegerField(blank=True, null=True)),
                ('error_count', models.IntegerField(blank=True, null=True)),
                ('stop_count', models.IntegerField(blank=True, null=True)),
                ('result_state', models.IntegerField(blank=True, choices=[(0, '忽略'), (1, '成功'), (2, '失败'), (3, '异常'), (4, '中止')], null=True)),
                ('result_message', models.TextField(blank=True)),
                ('result_error', models.TextField(blank=True)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_result_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_result_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
                ('suite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.suite')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.AddField(
            model_name='caseresult',
            name='suite_result',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.suiteresult'),
        ),
        migrations.CreateModel(
            name='SuiteVsCase',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('order', models.IntegerField(default=0)),
                ('case', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.case')),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_vs_case_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suite_vs_case_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('suite', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.suite')),
            ],
            options={
                'ordering': ['-modified_date'],
                'unique_together': {('suite', 'case', 'order')},
            },
        ),
        migrations.AddField(
            model_name='suite',
            name='case',
            field=models.ManyToManyField(through='main.SuiteVsCase', to='main.case'),
        ),
        migrations.CreateModel(
            name='VariableGroup',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True, verbose_name='创建时间')),
                ('modified_date', models.DateTimeField(auto_now=True, null=True, verbose_name='修改时间')),
                ('is_active', models.BooleanField(default=True)),
                ('creator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='variable_group_creator', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('modifier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='variable_group_modifier', to=settings.AUTH_USER_MODEL, verbose_name='修改人')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.project')),
            ],
            options={
                'ordering': ['-modified_date'],
            },
        ),
        migrations.AddField(
            model_name='suite',
            name='variable_group',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.variablegroup'),
        ),
        migrations.AddField(
            model_name='case',
            name='variable_group',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='main.variablegroup'),
        ),
        migrations.CreateModel(
            name='Element',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('by', models.IntegerField(choices=[(0, ''), (1, 'id'), (2, 'xpath'), (3, 'link text'), (4, 'partial link text'), (5, 'name'), (6, 'tag name'), (7, 'class name'), (8, 'css selector'), (9, 'public element'), (10, 'variable')], default=0)),
                ('locator', models.TextField(blank=True)),
                ('order', models.IntegerField(default=0)),
                ('element_group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.elementgroup')),
            ],
            options={
                'unique_together': {('name', 'element_group')},
            },
        ),
        migrations.CreateModel(
            name='Token',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('keyword', models.CharField(blank=True, max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('value', models.CharField(max_length=100, verbose_name='token值')),
                ('expire_date', models.DateTimeField(blank=True, default=django.utils.timezone.now, null=True, verbose_name='有效期')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='对应用户')),
            ],
            options={
                'unique_together': {('value',)},
            },
        ),
        migrations.CreateModel(
            name='Variable',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', models.UUIDField(auto_created=True, default=uuid.uuid1, editable=False, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('value', models.TextField(blank=True)),
                ('order', models.IntegerField(default=0)),
                ('variable_group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='main.variablegroup')),
            ],
            options={
                'unique_together': {('name', 'variable_group')},
            },
        ),
    ]
