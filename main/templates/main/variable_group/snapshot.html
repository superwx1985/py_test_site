{% load staticfiles %}
<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        {% include 'main/include/general_css.html' %}
        <style type='text/css' media='screen'>
            div.row {
                padding: 5px 0;
                {#min-height: 2em;#}
            }
        </style>
        {% include 'main/include/general_script.html' %}
        <script src="{% static 'main/js/detail.js' %}"></script>
        <script>
            $(function () {

            })
        </script>
        <script>
            $(function () {
                // 获取变量
                init_variable(true, $.parseJSON("{{ variables_json|escapejs }}"));
                // 关闭遮罩
                $('#mask').hide();
                // 禁用所有互动
                disable_interaction();
            });
        </script>

        <script src="{% static 'main/js/detail_variable_group.js' %}"></script>

    </head>
    <body>
        <div class="container-fluid" style="padding-bottom: 50px; {% if not inside %}padding-top: 50px;{% endif %}" name="detail_content">
            <div class="row align-items-center">
                <div class="col-1 text-center font-weight-bold">名称</div>
                <div class="col" form_data>
                    {% include 'main/include/form_input.html' with field=form.name %}
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-1 text-center font-weight-bold">描述</div>
                <div class="col" form_data>
                    {% include 'main/include/form_textarea.html' with field=form.description rows='2' %}
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-1 text-center font-weight-bold">关键字</div>
                <div class="col" form_data>
                    {% include 'main/include/form_input.html' with field=form.keyword %}
                </div>
            </div>
            <div class="row align-items-center">
                <div class="col-1 text-center font-weight-bold">项目</div>
                <div class="col" form_data>
                    {% include 'main/include/form_input.html' with field=form.project %}
                </div>
            </div>
            <div class="row">
                <div class="col text-center">
                    <h5 class="ui-widget-header">变量列表&nbsp;<i class="icon-question-sign" data-toggle="tooltip" title="变量的加载是有序的，先加载的变量可以被后加载的变量调用"></i></h5>
                    <div class="ui-widget-content">
                        <table id='variable_table' class="table table-sm table-bordered" style="width: 100%">
                            <colgroup>
                                <col style='width: 60px;'>
                                <col style='width: 60px;'>
                                <col style='width: 60px;'>
                                <col style='width: 20%;'>
                                <col>
                                <col>
                            </colgroup>
                            <thead class="thead-light"><tr><th></th><th></th><th>顺序</th><th>名称</th><th>值</th><th>备注</th></tr></thead>
                            <tbody class="text-left">
                                <tr id="new_helper" class="bg-light">
                                    <td class="middle" col_move><i class="icon-ok-circle icon-2x text-success" data-toggle="tooltip" title="添加到变量组"></i></td>
                                    <td class="middle" col_del><i class="icon-trash icon-2x" data-toggle="tooltip" title="删除"></i></td>
                                    <td class="middle" col_index><span></span></td>
                                    <td col_name><input placeholder="请输入变量名" class="form-control"></td>
                                    <td col_value><input placeholder="请输入变量值" class="form-control"></td>
                                    <td col_description><input placeholder="" class="form-control"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
